<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table {
            /* border: 1px solid black; */
        }
        
        td {
            text-align: center;
            font-size: 5px;
            /* padding-left: 20px; */
            /* padding-right: 20px; */
        }
    </style>
</head>

<body>
    <input type="text" placeholder="输入不合格品瓶数" id="dis_count"><br/>
    <input type="text" placeholder="输入总瓶数" id="all_count">
    <input type="button" value="提交" id="btn">
    <table border="1" cellspacing="0" cellpadding="0">
        <thead>
            <tr>
                <th colspan="7">严重缺陷</th>
                <th colspan="4">主要缺陷</th>
                <th colspan="4">一般缺陷</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td id="t1" colspan="7"></td>
                <td id="t2" colspan="4"></td>
                <td id="t3" colspan="4"></td>
            </tr>
            <tr>
                <td id="v11">0</td>
                <td id="v12"></td>
                <td id="v13"></td>
                <td id="v14"></td>
                <td id="v15"></td>
                <td id="v16"></td>
                <td id="v17"></td>
                <td id="v21"></td>
                <td id="v22"></td>
                <td id="v23"></td>
                <td id="v24"></td>
                <td id="v31"></td>
                <td id="v32"></td>
                <td id="v33"></td>
                <td id="v34"></td>
            </tr>
            <tr>
                <td colspan="7" id="per1"></td>
                <td colspan="4" id="per2"></td>
                <td colspan="4" id="per3"></td>
            </tr>

        </tbody>
    </table>
    <script>
        var btn = document.getElementById('btn')
        btn.onclick = function() {
            var inp = document.getElementById('dis_count')
            inp = parseInt(inp.value)
            var sum = inp;
            var tc1 = 0.152;
            var tc2 = 0.368;
            var tc3 = 0.48;
            var total1 = sum * tc1;
            var total2 = sum * tc2;
            // var total1 = 1000;

            // var v3 = 1000 * su1 * Math.random();
            t1 = parseInt(total1);
            t2 = parseInt(total2);
            var total3 = sum - t2 - t1;
            t3 = parseInt(total3)

            // v3 = parseInt(v3);
            // var v3 = 1000 - v1 - v2;
            // console.log(v1);
            // console.log(v2);
            // console.log(v3);
            // console.log(v3);
            var t1v = document.getElementById('t1');
            var t2v = document.getElementById('t2');
            var t3v = document.getElementById('t3');
            t1v.innerHTML = t1;
            t2v.innerHTML = t2;
            t3v.innerHTML = t3;
            var v11v = document.getElementById('v11')
            var v12v = document.getElementById('v12')
            var v13v = document.getElementById('v13')
            var v14v = document.getElementById('v14')
            var v15v = document.getElementById('v15')
            var v16v = document.getElementById('v16')
            var v17v = document.getElementById('v17')
            var v21v = document.getElementById('v21')
            var v22v = document.getElementById('v22')
            var v23v = document.getElementById('v23')
            var v24v = document.getElementById('v24')
            var v31v = document.getElementById('v31')
            var v32v = document.getElementById('v32')
            var v33v = document.getElementById('v33')
            var v34v = document.getElementById('v34')
                // var su1 = 0.;
            var su12 = 0.2;
            var su13 = 0.2;
            var su14 = 0.2;
            var su15 = 0.2;
            var su16 = 0.2;
            var su21 = 0.4;
            var su22 = 0.3;
            var su23 = 0.3;
            var su31 = 0.4;
            var su32 = 0.3;
            var su33 = 0.3;

            // var su7 = 0.2;

            // var su3 = 0.3;
            // var v11 = total1 * su1 * Math.random();
            var v12 = total1 * su12 * Math.random();
            var v13 = total1 * su13 * Math.random();
            var v14 = total1 * su14 * Math.random();
            var v15 = total1 * su15 * Math.random();
            var v16 = total1 * su16 * Math.random();
            // var v17 = total1 * su7 * Math.random();
            var v21 = total2 * su21 * Math.random();
            var v22 = total2 * su22 * Math.random();
            var v23 = total2 * su23 * Math.random();
            //
            var v31 = total3 * su31 * Math.random();
            var v32 = total3 * su32 * Math.random();
            var v33 = total3 * su33 * Math.random();
            // v11 = parseInt(v11);
            v12 = parseInt(v12);
            v13 = parseInt(v13);
            v14 = parseInt(v14);
            v15 = parseInt(v15);
            v16 = parseInt(v16);
            // v17 = parseInt(v17);
            v21 = parseInt(v21);
            v22 = parseInt(v22);
            v23 = parseInt(v23);
            //
            v31 = parseInt(v31);
            v32 = parseInt(v32);
            v33 = parseInt(v33);

            //
            v17 = t1 - v12 - v13 - v14 - v15 - v16;
            v24 = t2 - v21 - v22 - v23;
            v34 = t3 - v31 - v32 - v33;
            // var v11v = document.getElementById('v11');
            var v12v = document.getElementById('v12');
            var v13v = document.getElementById('v13');
            var v14v = document.getElementById('v14');
            var v15v = document.getElementById('v15');
            var v16v = document.getElementById('v16');
            var v17v = document.getElementById('v17');
            //
            var v21v = document.getElementById('v21');
            var v22v = document.getElementById('v22');
            var v23v = document.getElementById('v23');
            var v24v = document.getElementById('v24');
            //
            var v31v = document.getElementById('v31');
            var v32v = document.getElementById('v32');
            var v33v = document.getElementById('v33');
            var v34v = document.getElementById('v34');



            // v11v.innerHTML = v11;
            v12v.innerHTML = v12;
            v13v.innerHTML = v13;
            v14v.innerHTML = v14;
            v15v.innerHTML = v15;
            v16v.innerHTML = v16;
            v17v.innerHTML = v17;
            //
            v21v.innerHTML = v21;
            v22v.innerHTML = v22;
            v23v.innerHTML = v23;
            v24v.innerHTML = v24;
            //
            v31v.innerHTML = v31;
            v32v.innerHTML = v32;
            v33v.innerHTML = v33;
            v34v.innerHTML = v34;

            var per1 = document.getElementById('per1');
            var per2 = document.getElementById('per2');
            var per3 = document.getElementById('per3');
            var inp2 = document.getElementById('all_count');
            inp2 = parseInt(inp2.value)
            var per1v = t1 / inp2 * 100;
            var per2v = t2 / inp2 * 100;
            var per3v = t3 / inp2 * 100;
            per1v = parseFloat(per1v);
            per2v = parseFloat(per2v);
            per3v = parseFloat(per3v);

            per1.innerHTML = per1v + '%';
            per2.innerHTML = per2v + '%';
            per3.innerHTML = per3v + '%';

        }
    </script>
</body>

</html>